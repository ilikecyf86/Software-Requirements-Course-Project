AnnotationModelImpl.getAnnotationIterator(int, int, boolean, boolean) never returns anything
kind/question kind/bug sprint/next-sprint team/ide kind/question status/in-progress status/code-review status/in-progress sprint/current-sprint sprint/next-sprint 
While working on #3957 , I've noticed that using an AnnotationQueryEvent with a range never returned any annotations. I traced this to the usage of the DocumentPositionMap in AnnotationModelImpl. When annotations are added to the annotation model, their positions are never added to the documentPositionMap. So when the iterator tries use the positions from that map, it's always empty. Version: master as of March 7, 2017.