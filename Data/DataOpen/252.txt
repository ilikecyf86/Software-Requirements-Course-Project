Unable to initialize IDE / Workspace agent is no longer responding
kind/question 
Having this issue when setting up a workspace: "Workspace agent is no longer responding. To fix the problem, verify you have a good network connection and restart the workspace." The value of CHE_DOCKER_IP_EXTERNAL is set to the value of CHE_HOST, as reported in #3871, although it changes nothing. OS is unRAID 6.4.0-rc9f, Linux 4.12.14 ... [STDOUT] 2017/10/02 20:19:51 Process Routes: [STDOUT] 2017/10/02 20:19:51 ✓ Start Process ........................... POST /process [STDOUT] 2017/10/02 20:19:51 ✓ Get Process ............................. GET /process/:pid [STDOUT] 2017/10/02 20:19:51 ✓ Kill Process ............................ DELETE /process/:pid [STDOUT] 2017/10/02 20:19:51 ✓ Get Process Logs ........................ GET /process/:pid/logs [STDOUT] 2017/10/02 20:19:51 ✓ Get Processes ........................... GET /process [STDOUT] 2017/10/02 20:19:51 [STDOUT] 2017/10/02 20:19:51 Exec-Agent WebSocket routes: [STDOUT] 2017/10/02 20:19:51 ✓ Connect to Exec-Agent(websocket) ........ GET /connect [STDOUT] 2017/10/02 20:19:51 [STDOUT] 2017/10/02 20:19:51 ⇩ Registered RPCRoutes: [STDOUT] [STDOUT] 2017/10/02 20:19:51 Process Routes: [STDOUT] 2017/10/02 20:19:51 ✓ process.start [STDOUT] 2017/10/02 20:19:51 ✓ process.kill [STDOUT] 2017/10/02 20:19:51 ✓ process.subscribe [STDOUT] 2017/10/02 20:19:51 ✓ process.unsubscribe [STDOUT] 2017/10/02 20:19:51 ✓ process.updateSubscriber [STDOUT] 2017/10/02 20:19:51 ✓ process.getLogs [STDOUT] 2017/10/02 20:19:51 ✓ process.getProcess [STDOUT] 2017/10/02 20:19:51 ✓ process.getProcesses [STDOUT] 2017/10/02 20:19:54 Terminal-agent configuration [STDOUT] 2017/10/02 20:19:54 Server [STDOUT] 2017/10/02 20:19:54 - Address: :4411 [STDOUT] 2017/10/02 20:19:54 - Base path: '' [STDOUT] 2017/10/02 20:19:54 Terminal [STDOUT] 2017/10/02 20:19:54 - Slave command: '' [STDOUT] 2017/10/02 20:19:54 - Activity tracking enabled: true [STDOUT] 2017/10/02 20:19:54 Workspace master server [STDOUT] 2017/10/02 20:19:54 - API endpoint: http://che-host:8080/wsmaster/api [STDOUT] 2017/10/02 20:19:54 [STDOUT] 2017/10/02 20:19:54 ⇩ Registered HTTPRoutes: [STDOUT] [STDOUT] 2017/10/02 20:19:54 Terminal routes: [STDOUT] 2017/10/02 20:19:54 ✓ Connect to pty(webscoket) ............... GET /pty [STDOUT] 2017/10/02 20:19:54 [STDOUT] Listening for transport dt_socket at address: 4403 [STDOUT] 2017-10-02 20:19:57,086[main] [INFO ] [o.a.c.s.VersionLoggerListener 89] - Server version: Apache Tomcat/8.5.11 [STDOUT] 2017-10-02 20:19:57,088[main] [INFO ] [o.a.c.s.VersionLoggerListener 91] - Server built: Jan 10 2017 21:02:52 UTC [STDOUT] 2017-10-02 20:19:57,089[main] [INFO ] [o.a.c.s.VersionLoggerListener 93] - Server number: 8.5.11.0 [STDOUT] 2017-10-02 20:19:57,089[main] [INFO ] [o.a.c.s.VersionLoggerListener 95] - OS Name: Linux [STDOUT] 2017-10-02 20:19:57,089[main] [INFO ] [o.a.c.s.VersionLoggerListener 97] - OS Version: 4.12.14-unRAID [STDOUT] 2017-10-02 20:19:57,089[main] [INFO ] [o.a.c.s.VersionLoggerListener 99] - Architecture: amd64 [STDOUT] 2017-10-02 20:19:57,089[main] [INFO ] [o.a.c.s.VersionLoggerListener 101] - Java Home: /usr/lib/jvm/java-8-openjdk-amd64/jre [STDOUT] 2017-10-02 20:19:57,089[main] [INFO ] [o.a.c.s.VersionLoggerListener 103] - JVM Version: 1.8.0_131-8u131-b11-2ubuntu1.16.04.3-b11 [STDOUT] 2017-10-02 20:19:57,090[main] [INFO ] [o.a.c.s.VersionLoggerListener 105] - JVM Vendor: Oracle Corporation [STDOUT] 2017-10-02 20:19:57,090[main] [INFO ] [o.a.c.s.VersionLoggerListener 107] - CATALINA_BASE: /home/user/che/ws-agent [STDOUT] 2017-10-02 20:19:57,090[main] [INFO ] [o.a.c.s.VersionLoggerListener 109] - CATALINA_HOME: /home/user/che/ws-agent [STDOUT] 2017-10-02 20:19:57,090[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dnop [STDOUT] 2017-10-02 20:19:57,090[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager [STDOUT] 2017-10-02 20:19:57,091[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Xms256m [STDOUT] 2017-10-02 20:19:57,091[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Xmx2048m [STDOUT] 2017-10-02 20:19:57,091[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Djava.security.egd=file:/dev/./urandom [STDOUT] 2017-10-02 20:19:57,091[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dche.logs.dir=/home/user/che/ws-agent/logs [STDOUT] 2017-10-02 20:19:57,091[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dche.logs.level=INFO [STDOUT] 2017-10-02 20:19:57,092[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Djuli-logback.configurationFile=file:/home/user/che/ws-agent/conf/tomcat-logger.xml [STDOUT] 2017-10-02 20:19:57,092[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Djdk.tls.ephemeralDHKeySize=2048 [STDOUT] 2017-10-02 20:19:57,092[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources [STDOUT] 2017-10-02 20:19:57,092[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -agentlib:jdwp=transport=dt_socket,address=4403,server=y,suspend=n [STDOUT] 2017-10-02 20:19:57,092[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dcom.sun.management.jmxremote [STDOUT] 2017-10-02 20:19:57,092[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dcom.sun.management.jmxremote.ssl=false [STDOUT] 2017-10-02 20:19:57,093[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dcom.sun.management.jmxremote.authenticate=false [STDOUT] 2017-10-02 20:19:57,093[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dche.local.conf.dir=/mnt/che/conf [STDOUT] 2017-10-02 20:19:57,093[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dcatalina.base=/home/user/che/ws-agent [STDOUT] 2017-10-02 20:19:57,093[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Dcatalina.home=/home/user/che/ws-agent [STDOUT] 2017-10-02 20:19:57,093[main] [INFO ] [o.a.c.s.VersionLoggerListener 115] - Command line argument: -Djava.io.tmpdir=/home/user/che/ws-agent/temp [STDOUT] 2017-10-02 20:19:57,141[main] [INFO ] [o.a.c.http11.Http11NioProtocol 525] - Initializing ProtocolHandler ["http-nio-4401"] [STDOUT] 2017-10-02 20:19:57,152[main] [INFO ] [o.a.t.util.net.NioSelectorPool 67] - Using a shared selector for servlet write/read [STDOUT] 2017-10-02 20:19:57,154[main] [INFO ] [o.a.catalina.startup.Catalina 617] - Initialization processed in 270 ms [STDOUT] 2017-10-02 20:19:57,253[main] [INFO ] [c.m.JmxRemoteLifecycleListener 336] - The JMX Remote Listener has configured the registry on port 32002 and the server on port 32102 for the Platform server [STDOUT] 2017-10-02 20:19:57,254[main] [INFO ] [o.a.c.core.StandardService 416] - Starting service Catalina [STDOUT] 2017-10-02 20:19:57,254[main] [INFO ] [o.a.c.core.StandardEngine 259] - Starting Servlet Engine: Apache Tomcat/8.5.11 [STDOUT] 2017-10-02 20:19:57,350[ost-startStop-1] [INFO ] [o.a.c.startup.HostConfig 923] - Deploying web application archive /home/user/che/ws-agent/webapps/ROOT.war [STDOUT] 2017-10-02 20:20:02,096[ost-startStop-1] [INFO ] [o.e.c.a.p.s.WorkspaceHolder 59] - Workspace ID: workspaceh1rbwigl04292d4g [STDOUT] 2017-10-02 20:20:02,099[ost-startStop-1] [INFO ] [o.e.c.a.p.s.WorkspaceHolder 60] - API Endpoint: http://che-host:8080/wsmaster/api [STDOUT] 2017-10-02 20:20:02,099[ost-startStop-1] [INFO ] [o.e.c.a.p.s.WorkspaceHolder 61] - User Token : true [STDOUT] Mon Oct 02 20:20:02 UTC 2017 - [localhost-startStop-1] Product-specified preferences called before plugin is started [STDOUT] 2017-10-02 20:20:02,694[ost-startStop-1] [INFO ] [o.a.c.startup.HostConfig 987] - Deployment of web application archive /home/user/che/ws-agent/webapps/ROOT.war has finished in 5,343 ms [STDOUT] 2017-10-02 20:20:02,696[main] [INFO ] [o.a.c.http11.Http11NioProtocol 570] - Starting ProtocolHandler [http-nio-4401] [STDOUT] 2017-10-02 20:20:02,704[main] [INFO ] [o.a.catalina.startup.Catalina 668] - Server startup in 5549 ms