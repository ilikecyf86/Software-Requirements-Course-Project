Improve networking when running on OpenShift
kind/enhancement level/advanced team/osio 
Currently, internal networking on OpenShift works only if the Che host service is named che-host. In short: The property che.workspace.che_server_endpoint is by default http://che-host:${SERVER_PORT}/wsmaster/api This property is used for communication between wsagent and wsmaster -- it is added to workspace containers under the environment variable CHE_API The intent behind the property is that che-host is a hostname that gets added to the hosts file of a workspace, so that workspaces can contact wsmaster. On OpenShift, /etc/hosts is not modified, but it works anyways thanks to OpenShift's internal DNS, so long as the service is named che-host None of the OpenShift behavior is well-documented, which could lead to support and debugging difficulties in the future. To improve this issue, a few changes should be made There should be some way for Che server to figure out the service name associated with it OpenShift integration should not depend on the che-host service name, and should work even if the service name is changed As much as is possible, OpenShift network configuration infrastructure should be consolidated into one area. We currently sometimes depend on Docker infrastructure, and work around its idiosyncrasies. This makes understanding where some setup comes from difficult. (Ideally) Instead of depending on service names anywhere, we should be using ClusterIPs associated with those services, to enable networking even when not all components are in the same namespace Preferably, development in this area would also be adaptable/useful to the SPI development branch.