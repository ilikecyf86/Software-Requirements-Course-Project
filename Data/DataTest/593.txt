Is it possible to start many che instances on a server?

Since we didn't find the way to allow users to have their custom workspace, I want to start many che instances on a server, so everyone can get its own che instance to set its own workspace. But I have a problem that the server has only 4G ram, and there are more than 20 students. If I install che on the server directly, the memory is not enough if I start many che, since to start a tomcat, it requires at least 512M(or more). Can I resolve this problem by starting the che from docker containers? Is the memory used by docker container dynamic and shared? (Since most of the time the users are just typing code, the real used memory should be less then 4G) Could you give me some advices on this, or any solution that users can have their custom workspaces?